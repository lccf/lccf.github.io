---
title: win平台配置vim-addon-manager
date: 2014-10-20 22:09
tags:
- vam
- vim-addon-manager
- vim-addon-manager in windows
- windows配置vim-addon-manager
- vim
categories: Vim
---

vim-addon-manager是一款功能非常强大的vim插件管理工具，但其依赖git, hg, svn, curl, unzip等工具在win平台配置较繁琐，一直没在win平台中使用这种方案。这两天在试着在win平台配置，分享一下配置过程。


1.依赖程序
1.1 git 主页 http://msysgit.github.io/
下载地址：https://github.com/msysgit/msysgit/releases/download/Git-1.9.2-preview20140411/Git-1.9.2-preview20140411.exe

1.2 svn 主页 http://www.sliksvn.com/
下载地址：http://www.sliksvn.com/pub/Slik-Subversion-1.8.9-x64.msi

1.3 hg 主页 http://mercurial.selenic.com/
下载地址：http://mercurial.selenic.com/release/windows/Mercurial-3.0.exe

msysgit包中带有curl以及unzip等工具

2.添加环境变量
编辑vim配置文件($VIM/.vimrc)为vim指定相关环境变量（将C:\Program Files替换成自己的安装路径）

```vim
if(has('win32') && match($PATH,'SlikSvn')<0)
  let $PATH=$PATH.';C:\Program Files\SlikSvn\bin;C:\Program Files\Mercurial;C:\Program Files\Git\bin'
en
```

3.下载vim-addon-manager并配置
从https://github.com/MarcWeber/vim-addon-manager 获取源代码到插件目录，在vimrc中添加配置。
附官方建议配置：

```vim
fun! SetupVAM()
  let c = get(g:, 'vim_addon_manager', {})
  let g:vim_addon_manager = c
  let c.plugin_root_dir = expand('$HOME', 1) . '/.vim/vim-addons'
  " most used options you may want to use:
  " let c.log_to_buf = 1
  " let c.auto_install = 0
  let &rtp.=(empty(&rtp)?'':',').c.plugin_root_dir.'/vim-addon-manager'
  if !isdirectory(c.plugin_root_dir.'/vim-addon-manager/autoload')
    execute '!git clone --depth=1 git://github.com/MarcWeber/vim-addon-manager '
        \       shellescape(c.plugin_root_dir.'/vim-addon-manager', 1)
  endif
  call vam#ActivateAddons([], {'auto_install' : 0})
endfun

call SetupVAM()
VAMActivate matchit.zip vim-addon-commenting
```

不建议将所有配置内容都放在vimrc中，向大家推荐我整理的vim配置分割方案：http://zshou.i11r.com/posts/39266.html